{"ast":null,"code":"Object.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useCarouselController = useCarouselController;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactNativeReanimated = require(\"react-native-reanimated\");\nvar _constants = require(\"../constants\");\nvar _computedWithAutoFillData = require(\"../utils/computedWithAutoFillData\");\nvar _dealWithAnimation = require(\"../utils/dealWithAnimation\");\nvar _handlerOffsetDirection = require(\"../utils/handlerOffsetDirection\");\nvar _log = require(\"../utils/log\");\nfunction _getRequireWildcardCache(nodeInterop) {\n  if (typeof WeakMap !== \"function\") return null;\n  var cacheBabelInterop = new WeakMap();\n  var cacheNodeInterop = new WeakMap();\n  return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) {\n    return nodeInterop ? cacheNodeInterop : cacheBabelInterop;\n  })(nodeInterop);\n}\nfunction _interopRequireWildcard(obj, nodeInterop) {\n  if (!nodeInterop && obj && obj.__esModule) {\n    return obj;\n  }\n  if (obj === null || typeof obj !== \"object\" && typeof obj !== \"function\") {\n    return {\n      default: obj\n    };\n  }\n  var cache = _getRequireWildcardCache(nodeInterop);\n  if (cache && cache.has(obj)) {\n    return cache.get(obj);\n  }\n  var newObj = {};\n  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;\n  for (var key in obj) {\n    if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) {\n      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;\n      if (desc && (desc.get || desc.set)) {\n        Object.defineProperty(newObj, key, desc);\n      } else {\n        newObj[key] = obj[key];\n      }\n    }\n  }\n  newObj.default = obj;\n  if (cache) {\n    cache.set(obj, newObj);\n  }\n  return newObj;\n}\nfunction useCarouselController(options) {\n  var size = options.size,\n    loop = options.loop,\n    dataLength = options.dataLength,\n    handlerOffset = options.handlerOffset,\n    withAnimation = options.withAnimation,\n    _options$defaultIndex = options.defaultIndex,\n    defaultIndex = _options$defaultIndex === void 0 ? 0 : _options$defaultIndex,\n    duration = options.duration,\n    autoFillData = options.autoFillData;\n  var dataInfo = _react.default.useMemo(function () {\n    return {\n      length: dataLength,\n      disable: !dataLength,\n      originalLength: dataLength\n    };\n  }, [dataLength]);\n  var index = (0, _reactNativeReanimated.useSharedValue)(defaultIndex);\n  var sharedIndex = (0, _react.useRef)(defaultIndex);\n  var sharedPreIndex = (0, _react.useRef)(defaultIndex);\n  var currentFixedPage = _react.default.useCallback(function () {\n    if (loop) return -Math.round(handlerOffset.value / size);\n    var fixed = handlerOffset.value / size % dataInfo.length;\n    return Math.round(handlerOffset.value <= 0 ? Math.abs(fixed) : Math.abs(fixed > 0 ? dataInfo.length - fixed : 0));\n  }, [handlerOffset, dataInfo, size, loop]);\n  function setSharedIndex(newSharedIndex) {\n    sharedIndex.current = newSharedIndex;\n  }\n  (0, _reactNativeReanimated.useAnimatedReaction)(function () {\n    var _f = function _f() {\n      var handlerOffsetValue = handlerOffset.value;\n      var toInt = (0, _log.round)(handlerOffsetValue / size) % dataInfo.length;\n      var isPositive = handlerOffsetValue <= 0;\n      var i = isPositive ? Math.abs(toInt) : Math.abs(toInt > 0 ? dataInfo.length - toInt : 0);\n      var newSharedIndexValue = (0, _computedWithAutoFillData.convertToSharedIndex)({\n        loop: loop,\n        rawDataLength: dataInfo.originalLength,\n        autoFillData: autoFillData,\n        index: i\n      });\n      return {\n        i: i,\n        newSharedIndexValue: newSharedIndexValue\n      };\n    };\n    _f._closure = {\n      handlerOffset: handlerOffset,\n      round: _log.round,\n      size: size,\n      dataInfo: dataInfo,\n      convertToSharedIndex: _computedWithAutoFillData.convertToSharedIndex,\n      loop: loop,\n      autoFillData: autoFillData\n    };\n    _f.asString = \"function _f(){const{handlerOffset,round,size,dataInfo,convertToSharedIndex,loop,autoFillData}=jsThis._closure;{const handlerOffsetValue=handlerOffset.value;const toInt=round(handlerOffsetValue/size)%dataInfo.length;const isPositive=handlerOffsetValue<=0;const i=isPositive?Math.abs(toInt):Math.abs(toInt>0?dataInfo.length-toInt:0);const newSharedIndexValue=convertToSharedIndex({loop:loop,rawDataLength:dataInfo.originalLength,autoFillData:autoFillData,index:i});return{i:i,newSharedIndexValue:newSharedIndexValue};}}\";\n    _f.__workletHash = 442719064151;\n    _f.__location = \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx (84:4)\";\n    return _f;\n  }(), function () {\n    var _f = function _f(_ref) {\n      var i = _ref.i,\n        newSharedIndexValue = _ref.newSharedIndexValue;\n      index.value = i;\n      (0, _reactNativeReanimated.runOnJS)(setSharedIndex)(newSharedIndexValue);\n    };\n    _f._closure = {\n      index: index,\n      runOnJS: _reactNativeReanimated.runOnJS,\n      setSharedIndex: setSharedIndex\n    };\n    _f.asString = \"function _f({i:i,newSharedIndexValue:newSharedIndexValue}){const{index,runOnJS,setSharedIndex}=jsThis._closure;{index.value=i;runOnJS(setSharedIndex)(newSharedIndexValue);}}\";\n    _f.__workletHash = 16638491076412;\n    _f.__location = \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx (104:4)\";\n    return _f;\n  }(), [sharedPreIndex, sharedIndex, size, dataInfo, index, loop, autoFillData, handlerOffset]);\n  var getCurrentIndex = _react.default.useCallback(function () {\n    var realIndex = (0, _computedWithAutoFillData.computedRealIndexWithAutoFillData)({\n      index: index.value,\n      dataLength: dataInfo.originalLength,\n      loop: loop,\n      autoFillData: autoFillData\n    });\n    return realIndex;\n  }, [index, autoFillData, dataInfo, loop]);\n  var canSliding = _react.default.useCallback(function () {\n    return !dataInfo.disable;\n  }, [dataInfo]);\n  var onScrollEnd = _react.default.useCallback(function () {\n    options.onScrollEnd == null ? void 0 : options.onScrollEnd();\n  }, [options]);\n  var onScrollBegin = _react.default.useCallback(function () {\n    options.onScrollBegin == null ? void 0 : options.onScrollBegin();\n  }, [options]);\n  var scrollWithTiming = _react.default.useCallback(function () {\n    var _f = function _f(toValue, onFinished) {\n      var callback = function () {\n        var _f = function _f(isFinished) {\n          if (isFinished) {\n            (0, _reactNativeReanimated.runOnJS)(onScrollEnd)();\n            onFinished && (0, _reactNativeReanimated.runOnJS)(onFinished)();\n          }\n        };\n        _f._closure = {\n          runOnJS: _reactNativeReanimated.runOnJS,\n          onScrollEnd: onScrollEnd,\n          onFinished: onFinished\n        };\n        _f.asString = \"function _f(isFinished){const{runOnJS,onScrollEnd,onFinished}=jsThis._closure;{if(isFinished){runOnJS(onScrollEnd)();onFinished&&runOnJS(onFinished)();}}}\";\n        _f.__workletHash = 7767198641261;\n        _f.__location = \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx (146:23)\";\n        return _f;\n      }();\n      var defaultWithAnimation = {\n        type: \"timing\",\n        config: {\n          duration: duration,\n          easing: _constants.Easing.easeOutQuart\n        }\n      };\n      return (0, _dealWithAnimation.dealWithAnimation)(withAnimation != null ? withAnimation : defaultWithAnimation)(toValue, callback);\n    };\n    _f._closure = {\n      runOnJS: _reactNativeReanimated.runOnJS,\n      onScrollEnd: onScrollEnd,\n      duration: duration,\n      Easing: {\n        easeOutQuart: _constants.Easing.easeOutQuart\n      },\n      dealWithAnimation: _dealWithAnimation.dealWithAnimation,\n      withAnimation: withAnimation\n    };\n    _f.asString = \"function _f(toValue,onFinished){const{runOnJS,onScrollEnd,duration,Easing,dealWithAnimation,withAnimation}=jsThis._closure;{var _withAnimation;const callback=function(isFinished){\\\"worklet\\\";if(isFinished){runOnJS(onScrollEnd)();onFinished&&runOnJS(onFinished)();}};const defaultWithAnimation={type:\\\"timing\\\",config:{duration:duration,easing:Easing.easeOutQuart}};return dealWithAnimation((_withAnimation=withAnimation)!==null&&_withAnimation!==void 0?_withAnimation:defaultWithAnimation)(toValue,callback);}}\";\n    _f.__workletHash = 12575476119920;\n    _f.__location = \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx (144:4)\";\n    return _f;\n  }(), [duration, withAnimation, onScrollEnd]);\n  var next = _react.default.useCallback(function () {\n    var _f = function _f() {\n      var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _opts$count = opts.count,\n        count = _opts$count === void 0 ? 1 : _opts$count,\n        _opts$animated = opts.animated,\n        animated = _opts$animated === void 0 ? true : _opts$animated,\n        onFinished = opts.onFinished;\n      if (!canSliding() || !loop && index.value >= dataInfo.length - 1) return;\n      onScrollBegin == null ? void 0 : onScrollBegin();\n      var nextPage = currentFixedPage() + count;\n      index.value = nextPage;\n      if (animated) {\n        handlerOffset.value = scrollWithTiming(-nextPage * size, onFinished);\n      } else {\n        handlerOffset.value = -nextPage * size;\n        onFinished == null ? void 0 : onFinished();\n      }\n    };\n    _f._closure = {\n      canSliding: canSliding,\n      loop: loop,\n      index: index,\n      dataInfo: dataInfo,\n      onScrollBegin: onScrollBegin,\n      currentFixedPage: currentFixedPage,\n      handlerOffset: handlerOffset,\n      scrollWithTiming: scrollWithTiming,\n      size: size\n    };\n    _f.asString = \"function _f(opts={}){const{canSliding,loop,index,dataInfo,onScrollBegin,currentFixedPage,handlerOffset,scrollWithTiming,size}=jsThis._closure;{var _onScrollBegin;const{count=1,animated=true,onFinished:onFinished}=opts;if(!canSliding()||!loop&&index.value>=dataInfo.length-1)return;(_onScrollBegin=onScrollBegin)===null||_onScrollBegin===void 0?void 0:_onScrollBegin();const nextPage=currentFixedPage()+count;index.value=nextPage;if(animated){handlerOffset.value=scrollWithTiming(-nextPage*size,onFinished);}else{handlerOffset.value=-nextPage*size;onFinished===null||onFinished===void 0?void 0:onFinished();}}}\";\n    _f.__workletHash = 10530429864168;\n    _f.__location = \"/home/runner/work/react-native-reanimated-carousel/react-native-reanimated-carousel/src/hooks/useCarouselController.tsx (168:4)\";\n    return _f;\n  }(), [canSliding, loop, index, dataInfo, onScrollBegin, handlerOffset, size, scrollWithTiming, currentFixedPage]);\n  var prev = _react.default.useCallback(function () {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _opts$count2 = opts.count,\n      count = _opts$count2 === void 0 ? 1 : _opts$count2,\n      _opts$animated2 = opts.animated,\n      animated = _opts$animated2 === void 0 ? true : _opts$animated2,\n      onFinished = opts.onFinished;\n    if (!canSliding() || !loop && index.value <= 0) return;\n    onScrollBegin == null ? void 0 : onScrollBegin();\n    var prevPage = currentFixedPage() - count;\n    index.value = prevPage;\n    if (animated) {\n      handlerOffset.value = scrollWithTiming(-prevPage * size, onFinished);\n    } else {\n      handlerOffset.value = -prevPage * size;\n      onFinished == null ? void 0 : onFinished();\n    }\n  }, [canSliding, loop, index, onScrollBegin, handlerOffset, size, scrollWithTiming, currentFixedPage]);\n  var to = _react.default.useCallback(function (opts) {\n    var i = opts.i,\n      _opts$animated3 = opts.animated,\n      animated = _opts$animated3 === void 0 ? false : _opts$animated3,\n      onFinished = opts.onFinished;\n    if (i === index.value) return;\n    if (!canSliding()) return;\n    onScrollBegin == null ? void 0 : onScrollBegin();\n    var direction = (0, _handlerOffsetDirection.handlerOffsetDirection)(handlerOffset);\n    var offset = i * size * direction;\n    var totalSize = dataInfo.length * size;\n    var isCloseToNextLoop = false;\n    if (loop) {\n      isCloseToNextLoop = Math.abs(handlerOffset.value % totalSize) / totalSize >= 0.5;\n    }\n    var finalOffset = (Math.floor(Math.abs(handlerOffset.value / totalSize)) + (isCloseToNextLoop ? 1 : 0)) * totalSize * direction + offset;\n    if (animated) {\n      index.value = i;\n      handlerOffset.value = scrollWithTiming(finalOffset, onFinished);\n    } else {\n      handlerOffset.value = finalOffset;\n      index.value = i;\n      onFinished == null ? void 0 : onFinished();\n    }\n  }, [index, canSliding, onScrollBegin, handlerOffset, size, dataInfo.length, loop, scrollWithTiming]);\n  var scrollTo = _react.default.useCallback(function () {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var i = opts.index,\n      count = opts.count,\n      _opts$animated4 = opts.animated,\n      animated = _opts$animated4 === void 0 ? false : _opts$animated4,\n      onFinished = opts.onFinished;\n    if (typeof i === \"number\" && i > -1) {\n      to({\n        i: i,\n        animated: animated,\n        onFinished: onFinished\n      });\n      return;\n    }\n    if (!count) return;\n    var n = Math.round(count);\n    if (n < 0) prev({\n      count: Math.abs(n),\n      animated: animated,\n      onFinished: onFinished\n    });else next({\n      count: n,\n      animated: animated,\n      onFinished: onFinished\n    });\n  }, [prev, next, to]);\n  return {\n    next: next,\n    prev: prev,\n    scrollTo: scrollTo,\n    getCurrentIndex: getCurrentIndex,\n    getSharedIndex: function getSharedIndex() {\n      return sharedIndex.current;\n    }\n  };\n}","map":{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNativeReanimated","_constants","_computedWithAutoFillData","_dealWithAnimation","_handlerOffsetDirection","_log","useCarouselController","options","size","loop","dataLength","handlerOffset","withAnimation","_options$defaultIndex","defaultIndex","duration","autoFillData","dataInfo","default","useMemo","length","disable","originalLength","index","useSharedValue","sharedIndex","useRef","sharedPreIndex","currentFixedPage","useCallback","Math","round","value","fixed","abs","setSharedIndex","newSharedIndex","current","useAnimatedReaction","_f","handlerOffsetValue","toInt","isPositive","i","newSharedIndexValue","convertToSharedIndex","rawDataLength","_closure","asString","__workletHash","__location","_ref","runOnJS","getCurrentIndex","realIndex","computedRealIndexWithAutoFillData","canSliding","onScrollEnd","onScrollBegin","scrollWithTiming","toValue","onFinished","callback","isFinished","defaultWithAnimation","type","config","easing","Easing","easeOutQuart","dealWithAnimation","next","opts","arguments","undefined","_opts$count","count","_opts$animated","animated","nextPage","prev","_opts$count2","_opts$animated2","prevPage","to","_opts$animated3","direction","handlerOffsetDirection","offset","totalSize","isCloseToNextLoop","finalOffset","floor","scrollTo","_opts$animated4","n","getSharedIndex"],"sources":["/Users/vunguyen/Documents/work/jcstudio/food-star-expo-app-template/node_modules/react-native-reanimated-carousel/lib/commonjs/hooks/useCarouselController.tsx"],"sourcesContent":["import React, { useRef } from \"react\";\nimport type Animated from \"react-native-reanimated\";\nimport {\n  runOnJS,\n  useAnimatedReaction,\n  useSharedValue,\n} from \"react-native-reanimated\";\n\nimport { Easing } from \"../constants\";\nimport type {\n  TCarouselActionOptions,\n  TCarouselProps,\n  WithTimingAnimation,\n} from \"../types\";\nimport { computedRealIndexWithAutoFillData, convertToSharedIndex } from \"../utils/computedWithAutoFillData\";\nimport { dealWithAnimation } from \"../utils/dealWithAnimation\";\nimport { handlerOffsetDirection } from \"../utils/handlerOffsetDirection\";\nimport { round } from \"../utils/log\";\n\ninterface IOpts {\n  loop: boolean\n  size: number\n  dataLength: number\n  autoFillData: TCarouselProps[\"autoFillData\"]\n  handlerOffset: Animated.SharedValue<number>\n  withAnimation?: TCarouselProps[\"withAnimation\"]\n  duration?: number\n  defaultIndex?: number\n  onScrollBegin?: () => void\n  onScrollEnd?: () => void\n}\n\nexport interface ICarouselController {\n  getSharedIndex: () => number\n  prev: (opts?: TCarouselActionOptions) => void\n  next: (opts?: TCarouselActionOptions) => void\n  getCurrentIndex: () => number\n  scrollTo: (opts?: TCarouselActionOptions) => void\n}\n\nexport function useCarouselController(options: IOpts): ICarouselController {\n  const {\n    size,\n    loop,\n    dataLength,\n    handlerOffset,\n    withAnimation,\n    defaultIndex = 0,\n    duration,\n    autoFillData,\n  } = options;\n\n  const dataInfo = React.useMemo(\n    () => ({\n      length: dataLength,\n      disable: !dataLength,\n      originalLength: dataLength,\n    }),\n    [dataLength],\n  );\n\n  const index = useSharedValue<number>(defaultIndex);\n  // The Index displayed to the user\n  const sharedIndex = useRef<number>(defaultIndex);\n  const sharedPreIndex = useRef<number>(defaultIndex);\n\n  const currentFixedPage = React.useCallback(() => {\n    if (loop)\n      return -Math.round(handlerOffset.value / size);\n\n    const fixed = (handlerOffset.value / size) % dataInfo.length;\n    return Math.round(\n      handlerOffset.value <= 0\n        ? Math.abs(fixed)\n        : Math.abs(fixed > 0 ? dataInfo.length - fixed : 0),\n    );\n  }, [handlerOffset, dataInfo, size, loop]);\n\n  function setSharedIndex(newSharedIndex: number) {\n    sharedIndex.current = newSharedIndex;\n  }\n\n  useAnimatedReaction(\n    () => {\n      const handlerOffsetValue = handlerOffset.value;\n      const toInt = round(handlerOffsetValue / size) % dataInfo.length;\n      const isPositive = handlerOffsetValue <= 0;\n      const i = isPositive\n        ? Math.abs(toInt)\n        : Math.abs(toInt > 0 ? dataInfo.length - toInt : 0);\n\n      const newSharedIndexValue = convertToSharedIndex({\n        loop,\n        rawDataLength: dataInfo.originalLength,\n        autoFillData: autoFillData!,\n        index: i,\n      });\n\n      return {\n        i,\n        newSharedIndexValue,\n      };\n    },\n    ({ i, newSharedIndexValue }) => {\n      index.value = i;\n      runOnJS(setSharedIndex)(newSharedIndexValue);\n    },\n    [\n      sharedPreIndex,\n      sharedIndex,\n      size,\n      dataInfo,\n      index,\n      loop,\n      autoFillData,\n      handlerOffset,\n    ],\n  );\n\n  const getCurrentIndex = React.useCallback(() => {\n    const realIndex = computedRealIndexWithAutoFillData({\n      index: index.value,\n      dataLength: dataInfo.originalLength,\n      loop,\n      autoFillData: autoFillData!,\n    });\n\n    return realIndex;\n  }, [index, autoFillData, dataInfo, loop]);\n\n  const canSliding = React.useCallback(() => {\n    return !dataInfo.disable;\n  }, [dataInfo]);\n\n  const onScrollEnd = React.useCallback(() => {\n    options.onScrollEnd?.();\n  }, [options]);\n\n  const onScrollBegin = React.useCallback(() => {\n    options.onScrollBegin?.();\n  }, [options]);\n\n  const scrollWithTiming = React.useCallback(\n    (toValue: number, onFinished?: () => void) => {\n      \"worklet\";\n      const callback = (isFinished: boolean) => {\n        \"worklet\";\n        if (isFinished) {\n          runOnJS(onScrollEnd)();\n          onFinished && runOnJS(onFinished)();\n        }\n      };\n\n      const defaultWithAnimation: WithTimingAnimation = {\n        type: \"timing\",\n        config: { duration, easing: Easing.easeOutQuart },\n      };\n\n      return dealWithAnimation(withAnimation ?? defaultWithAnimation)(\n        toValue,\n        callback,\n      );\n    },\n    [duration, withAnimation, onScrollEnd],\n  );\n\n  const next = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      \"worklet\";\n      const { count = 1, animated = true, onFinished } = opts;\n      if (!canSliding() || (!loop && index.value >= dataInfo.length - 1))\n        return;\n\n      onScrollBegin?.();\n\n      const nextPage = currentFixedPage() + count;\n      index.value = nextPage;\n\n      if (animated) {\n        handlerOffset.value = scrollWithTiming(\n          -nextPage * size,\n          onFinished,\n        ) as any;\n      }\n      else {\n        handlerOffset.value = -nextPage * size;\n        onFinished?.();\n      }\n    },\n    [\n      canSliding,\n      loop,\n      index,\n      dataInfo,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      scrollWithTiming,\n      currentFixedPage,\n    ],\n  );\n\n  const prev = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      const { count = 1, animated = true, onFinished } = opts;\n      if (!canSliding() || (!loop && index.value <= 0)) return;\n\n      onScrollBegin?.();\n\n      const prevPage = currentFixedPage() - count;\n      index.value = prevPage;\n\n      if (animated) {\n        handlerOffset.value = scrollWithTiming(\n          -prevPage * size,\n          onFinished,\n        );\n      }\n      else {\n        handlerOffset.value = -prevPage * size;\n        onFinished?.();\n      }\n    },\n    [\n      canSliding,\n      loop,\n      index,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      scrollWithTiming,\n      currentFixedPage,\n    ],\n  );\n\n  const to = React.useCallback(\n    (opts: { i: number; animated: boolean; onFinished?: () => void }) => {\n      const { i, animated = false, onFinished } = opts;\n      if (i === index.value) return;\n      if (!canSliding()) return;\n\n      onScrollBegin?.();\n      // direction -> 1 | -1\n      const direction = handlerOffsetDirection(handlerOffset);\n\n      // target offset\n      const offset = i * size * direction;\n      // page width size * page count\n      const totalSize = dataInfo.length * size;\n\n      let isCloseToNextLoop = false;\n\n      if (loop) {\n        isCloseToNextLoop\n                    = Math.abs(handlerOffset.value % totalSize) / totalSize\n                    >= 0.5;\n      }\n\n      const finalOffset\n                = (Math.floor(Math.abs(handlerOffset.value / totalSize))\n                    + (isCloseToNextLoop ? 1 : 0))\n                    * totalSize\n                    * direction\n                + offset;\n\n      if (animated) {\n        index.value = i;\n        handlerOffset.value = scrollWithTiming(finalOffset, onFinished);\n      }\n      else {\n        handlerOffset.value = finalOffset;\n        index.value = i;\n        onFinished?.();\n      }\n    },\n    [\n      index,\n      canSliding,\n      onScrollBegin,\n      handlerOffset,\n      size,\n      dataInfo.length,\n      loop,\n      scrollWithTiming,\n    ],\n  );\n\n  const scrollTo = React.useCallback(\n    (opts: TCarouselActionOptions = {}) => {\n      const { index: i, count, animated = false, onFinished } = opts;\n      if (typeof i === \"number\" && i > -1) {\n        to({ i, animated, onFinished });\n        return;\n      }\n\n      if (!count)\n        return;\n\n      const n = Math.round(count);\n\n      if (n < 0)\n        prev({ count: Math.abs(n), animated, onFinished });\n\n      else\n        next({ count: n, animated, onFinished });\n    },\n    [prev, next, to],\n  );\n\n  return {\n    next,\n    prev,\n    scrollTo,\n    getCurrentIndex,\n    getSharedIndex: () => sharedIndex.current,\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}