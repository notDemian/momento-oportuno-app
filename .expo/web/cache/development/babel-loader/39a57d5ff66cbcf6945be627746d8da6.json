{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport * as React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport TabBar from \"./TabBar\";\nimport styles from \"./styles\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar SectionList = function (_React$PureComponent) {\n  _inherits(SectionList, _React$PureComponent);\n  var _super = _createSuper(SectionList);\n  function SectionList() {\n    var _this;\n    _classCallCheck(this, SectionList);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      currentIndex: 0\n    };\n    _this.blockUpdateIndex = false;\n    _this.sectionList = React.createRef();\n    return _this;\n  }\n  _createClass(SectionList, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props = this.props,\n        sections = _this$props.sections,\n        renderTab = _this$props.renderTab,\n        tabBarStyle = _this$props.tabBarStyle,\n        tabBarScrollViewStyle = _this$props.tabBarScrollViewStyle,\n        scrollToLocationOffset = _this$props.scrollToLocationOffset,\n        onViewableItemsChangedCallback = _this$props.onViewableItemsChangedCallback;\n      var prepareSections = sections.map(function (item, index) {\n        return _objectSpread(_objectSpread({}, item), {}, {\n          index: index\n        });\n      });\n      return _jsxs(View, {\n        style: styles.tabSectionListContainer,\n        children: [_jsx(Animated.SectionList, _objectSpread(_objectSpread({}, this.props), {}, {\n          sections: prepareSections,\n          onViewableItemsChanged: function onViewableItemsChanged(info) {\n            var viewableItems = info.viewableItems;\n            if (!_this2.blockUpdateIndex && viewableItems[0]) {\n              if (onViewableItemsChangedCallback) {\n                onViewableItemsChangedCallback(info);\n              }\n              var currentIndex = viewableItems[0].section.index;\n              if (_this2.state.currentIndex !== currentIndex) {\n                _this2.setState({\n                  currentIndex: currentIndex\n                });\n              }\n            }\n          },\n          viewabilityConfig: {\n            minimumViewTime: 10,\n            itemVisiblePercentThreshold: 10\n          },\n          ref: this.sectionList,\n          onMomentumScrollEnd: function onMomentumScrollEnd() {\n            return _this2.blockUpdateIndex = false;\n          }\n        })), _jsx(TabBar, {\n          sections: prepareSections,\n          renderTab: renderTab,\n          tabBarStyle: tabBarStyle,\n          tabBarScrollViewStyle: tabBarScrollViewStyle,\n          currentIndex: this.state.currentIndex,\n          onPress: function onPress(index) {\n            _this2.setState({\n              currentIndex: index\n            });\n            _this2.blockUpdateIndex = true;\n            var sectionList = _this2.sectionList.current;\n            if (sectionList && sectionList.scrollToLocation) {\n              sectionList.scrollToLocation({\n                animated: true,\n                itemIndex: 0,\n                viewOffset: scrollToLocationOffset || 0,\n                sectionIndex: index\n              });\n            }\n          }\n        })]\n      });\n    }\n  }]);\n  return SectionList;\n}(React.PureComponent);\nexport { SectionList as default };","map":{"version":3,"names":["React","TabBar","styles","SectionList","state","currentIndex","blockUpdateIndex","sectionList","createRef","props","sections","renderTab","tabBarStyle","tabBarScrollViewStyle","scrollToLocationOffset","onViewableItemsChangedCallback","prepareSections","map","item","index","tabSectionListContainer","info","viewableItems","section","setState","minimumViewTime","itemVisiblePercentThreshold","current","scrollToLocation","animated","itemIndex","viewOffset","sectionIndex","PureComponent"],"sources":["/Users/vunguyen/Documents/work/jcstudio/food-star-expo-app-template/src/components/elements/TabSectionList/TabSectionList.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n  View,\n  SectionList as RNSectionList,\n  SectionListProps,\n  ViewStyle,\n  SectionListData,\n  ViewToken,\n  Animated,\n  StyleProp,\n} from 'react-native';\nimport TabBar from './TabBar';\nimport styles from './styles';\n\ninterface IProps extends SectionListProps<any> {\n  scrollToLocationOffset?: number;\n  tabBarStyle?: Animated.WithAnimatedValue<StyleProp<ViewStyle>>;\n  tabBarScrollViewStyle?: StyleProp<ViewStyle>;\n  renderTab: (section: SectionListData<any>) => React.ReactNode;\n  onViewableItemsChangedCallback?: (info: {\n    viewableItems: Array<ViewToken>;\n    changed: Array<ViewToken>;\n  }) => void;\n}\n\ninterface IState {\n  currentIndex: number;\n}\n\nexport default class SectionList extends React.PureComponent<IProps, IState> {\n  state: IState = {\n    currentIndex: 0,\n  };\n\n  private blockUpdateIndex: boolean = false;\n  private sectionList: React.RefObject<RNSectionList<any>> = React.createRef();\n\n  render() {\n    const {\n      sections,\n      renderTab,\n      tabBarStyle,\n      tabBarScrollViewStyle,\n      scrollToLocationOffset,\n      onViewableItemsChangedCallback,\n    } = this.props;\n\n    const prepareSections = sections.map((item, index) => ({...item, index}));\n\n    return (\n      <View style={styles.tabSectionListContainer}>\n        <Animated.SectionList\n          {...this.props}\n          sections={prepareSections}\n          onViewableItemsChanged={(info: any) => {\n            const {viewableItems} = info;\n            if (!this.blockUpdateIndex && viewableItems[0]) {\n              if (onViewableItemsChangedCallback) {\n                onViewableItemsChangedCallback(info);\n              }\n              const currentIndex = viewableItems[0].section.index;\n              if (this.state.currentIndex !== currentIndex) {\n                this.setState({currentIndex});\n              }\n            }\n          }}\n          viewabilityConfig={{\n            minimumViewTime: 10,\n            itemVisiblePercentThreshold: 10,\n          }}\n          ref={this.sectionList as React.RefObject<any>}\n          onMomentumScrollEnd={() => (this.blockUpdateIndex = false)}\n        />\n        <TabBar\n          sections={prepareSections}\n          renderTab={renderTab}\n          tabBarStyle={tabBarStyle}\n          tabBarScrollViewStyle={tabBarScrollViewStyle}\n          currentIndex={this.state.currentIndex}\n          onPress={(index: number) => {\n            this.setState({currentIndex: index});\n            this.blockUpdateIndex = true;\n\n            const sectionList = this.sectionList.current;\n            if (sectionList && sectionList.scrollToLocation) {\n              sectionList.scrollToLocation({\n                animated: true,\n                itemIndex: 0,\n                viewOffset: scrollToLocationOffset || 0,\n                sectionIndex: index,\n              });\n            }\n          }}\n        />\n      </View>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAAC;AAAA;AAW/B,OAAOC,MAAM;AACb,OAAOC,MAAM;AAAiB;AAAA;AAAA,IAiBTC,WAAW;EAAA;EAAA;EAAA;IAAA;IAAA;IAAA;MAAA;IAAA;IAAA;IAAA,MAC9BC,KAAK,GAAW;MACdC,YAAY,EAAE;IAChB,CAAC;IAAA,MAEOC,gBAAgB,GAAY,KAAK;IAAA,MACjCC,WAAW,GAAwCP,KAAK,CAACQ,SAAS,EAAE;IAAA;EAAA;EAAA;IAAA;IAAA,OAE5E,kBAAS;MAAA;MACP,kBAOI,IAAI,CAACC,KAAK;QANZC,QAAQ,eAARA,QAAQ;QACRC,SAAS,eAATA,SAAS;QACTC,WAAW,eAAXA,WAAW;QACXC,qBAAqB,eAArBA,qBAAqB;QACrBC,sBAAsB,eAAtBA,sBAAsB;QACtBC,8BAA8B,eAA9BA,8BAA8B;MAGhC,IAAMC,eAAe,GAAGN,QAAQ,CAACO,GAAG,CAAC,UAACC,IAAI,EAAEC,KAAK;QAAA,uCAAUD,IAAI;UAAEC,KAAK,EAALA;QAAK;MAAA,CAAE,CAAC;MAEzE,OACE,MAAC,IAAI;QAAC,KAAK,EAAEjB,MAAM,CAACkB,uBAAwB;QAAA,WAC1C,KAAC,QAAQ,CAAC,WAAW,kCACf,IAAI,CAACX,KAAK;UACd,QAAQ,EAAEO,eAAgB;UAC1B,sBAAsB,EAAE,gCAACK,IAAS,EAAK;YACrC,IAAOC,aAAa,GAAID,IAAI,CAArBC,aAAa;YACpB,IAAI,CAAC,MAAI,CAAChB,gBAAgB,IAAIgB,aAAa,CAAC,CAAC,CAAC,EAAE;cAC9C,IAAIP,8BAA8B,EAAE;gBAClCA,8BAA8B,CAACM,IAAI,CAAC;cACtC;cACA,IAAMhB,YAAY,GAAGiB,aAAa,CAAC,CAAC,CAAC,CAACC,OAAO,CAACJ,KAAK;cACnD,IAAI,MAAI,CAACf,KAAK,CAACC,YAAY,KAAKA,YAAY,EAAE;gBAC5C,MAAI,CAACmB,QAAQ,CAAC;kBAACnB,YAAY,EAAZA;gBAAY,CAAC,CAAC;cAC/B;YACF;UACF,CAAE;UACF,iBAAiB,EAAE;YACjBoB,eAAe,EAAE,EAAE;YACnBC,2BAA2B,EAAE;UAC/B,CAAE;UACF,GAAG,EAAE,IAAI,CAACnB,WAAoC;UAC9C,mBAAmB,EAAE;YAAA,OAAO,MAAI,CAACD,gBAAgB,GAAG,KAAK;UAAA;QAAE,GAC3D,EACF,KAAC,MAAM;UACL,QAAQ,EAAEU,eAAgB;UAC1B,SAAS,EAAEL,SAAU;UACrB,WAAW,EAAEC,WAAY;UACzB,qBAAqB,EAAEC,qBAAsB;UAC7C,YAAY,EAAE,IAAI,CAACT,KAAK,CAACC,YAAa;UACtC,OAAO,EAAE,iBAACc,KAAa,EAAK;YAC1B,MAAI,CAACK,QAAQ,CAAC;cAACnB,YAAY,EAAEc;YAAK,CAAC,CAAC;YACpC,MAAI,CAACb,gBAAgB,GAAG,IAAI;YAE5B,IAAMC,WAAW,GAAG,MAAI,CAACA,WAAW,CAACoB,OAAO;YAC5C,IAAIpB,WAAW,IAAIA,WAAW,CAACqB,gBAAgB,EAAE;cAC/CrB,WAAW,CAACqB,gBAAgB,CAAC;gBAC3BC,QAAQ,EAAE,IAAI;gBACdC,SAAS,EAAE,CAAC;gBACZC,UAAU,EAAEjB,sBAAsB,IAAI,CAAC;gBACvCkB,YAAY,EAAEb;cAChB,CAAC,CAAC;YACJ;UACF;QAAE,EACF;MAAA,EACG;IAEX;EAAC;EAAA;AAAA,EAnEsCnB,KAAK,CAACiC,aAAa;AAAA,SAAvC9B,WAAW"},"metadata":{},"sourceType":"module"}