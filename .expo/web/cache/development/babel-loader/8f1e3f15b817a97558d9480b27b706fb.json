{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport * as React from 'react';\nimport AuthContext from \"../../../context/auth-context\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar initialAuthState = {\n  isLoading: false,\n  isSignOut: false,\n  userToken: ''\n};\nvar AuthReducer = function AuthReducer(state, action) {\n  switch (action.type) {\n    case 'RESTORE_TOKEN':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        userToken: action.token,\n        isLoading: false\n      });\n    case 'SIGN_IN':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        userToken: action.token,\n        isSignOut: false\n      });\n    case 'SIGN_OUT':\n      return _objectSpread(_objectSpread({}, state), {}, {\n        userToken: null,\n        isSignOut: true\n      });\n    default:\n      return state;\n  }\n};\nvar AuthProvider = function AuthProvider(_ref) {\n  var children = _ref.children;\n  var _React$useReducer = React.useReducer(AuthReducer, initialAuthState),\n    _React$useReducer2 = _slicedToArray(_React$useReducer, 2),\n    state = _React$useReducer2[0],\n    dispatch = _React$useReducer2[1];\n  var userToken = state.userToken;\n  var authContext = React.useMemo(function () {\n    return {\n      userToken: userToken,\n      signIn: function signIn() {\n        dispatch({\n          type: 'SIGN_IN',\n          token: 'dummy-auth-token'\n        });\n      },\n      signOut: function signOut() {\n        return dispatch({\n          type: 'SIGN_OUT'\n        });\n      },\n      signUp: function signUp() {\n        dispatch({\n          type: 'SIGN_IN',\n          token: 'dummy-auth-token'\n        });\n      }\n    };\n  }, [userToken]);\n  return _jsx(AuthContext.Provider, {\n    value: authContext,\n    children: children\n  });\n};\nexport default AuthProvider;","map":{"version":3,"names":["React","AuthContext","initialAuthState","isLoading","isSignOut","userToken","AuthReducer","state","action","type","token","AuthProvider","children","useReducer","dispatch","authContext","useMemo","signIn","signOut","signUp"],"sources":["/Users/vunguyen/Documents/work/jcstudio/food-star-expo-app-template/src/components/common/AuthProvider/AuthProvider.tsx"],"sourcesContent":["import * as React from 'react';\nimport AuthContext from '@src/context/auth-context';\n\ntype AuthProviderProps = {};\n\ntype AuthState = {\n  isLoading: boolean;\n  isSignOut: boolean;\n  userToken: string | null;\n};\n\ntype AuthAction =\n  | {type: 'RESTORE_TOKEN'; token: string | null}\n  | {type: 'SIGN_IN'; token: string | null}\n  | {type: 'SIGN_OUT'; token?: null};\n\nconst initialAuthState: AuthState = {\n  isLoading: false,\n  isSignOut: false,\n  userToken: '',\n};\n\nconst AuthReducer = (state: AuthState, action: AuthAction): AuthState => {\n  switch (action.type) {\n    case 'RESTORE_TOKEN':\n      return {\n        ...state,\n        userToken: action.token,\n        isLoading: false,\n      };\n    case 'SIGN_IN':\n      return {\n        ...state,\n        userToken: action.token,\n        isSignOut: false,\n      };\n    case 'SIGN_OUT':\n      return {\n        ...state,\n        userToken: null,\n        isSignOut: true,\n      };\n    default:\n      return state;\n  }\n};\n\nconst AuthProvider: React.FC<AuthProviderProps> = ({children}) => {\n  const [state, dispatch] = React.useReducer(AuthReducer, initialAuthState);\n  const {userToken} = state;\n\n  const authContext = React.useMemo(\n    () => ({\n      userToken,\n      signIn: () => {\n        dispatch({type: 'SIGN_IN', token: 'dummy-auth-token'});\n      },\n      signOut: () => dispatch({type: 'SIGN_OUT'}),\n      signUp: () => {\n        dispatch({type: 'SIGN_IN', token: 'dummy-auth-token'});\n      },\n    }),\n    [userToken],\n  );\n\n  return (\n    <AuthContext.Provider value={authContext}>{children}</AuthContext.Provider>\n  );\n};\n\nexport default AuthProvider;\n"],"mappings":";;;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,OAAOC,WAAW;AAAkC;AAepD,IAAMC,gBAA2B,GAAG;EAClCC,SAAS,EAAE,KAAK;EAChBC,SAAS,EAAE,KAAK;EAChBC,SAAS,EAAE;AACb,CAAC;AAED,IAAMC,WAAW,GAAG,SAAdA,WAAW,CAAIC,KAAgB,EAAEC,MAAkB,EAAgB;EACvE,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,eAAe;MAClB,uCACKF,KAAK;QACRF,SAAS,EAAEG,MAAM,CAACE,KAAK;QACvBP,SAAS,EAAE;MAAK;IAEpB,KAAK,SAAS;MACZ,uCACKI,KAAK;QACRF,SAAS,EAAEG,MAAM,CAACE,KAAK;QACvBN,SAAS,EAAE;MAAK;IAEpB,KAAK,UAAU;MACb,uCACKG,KAAK;QACRF,SAAS,EAAE,IAAI;QACfD,SAAS,EAAE;MAAI;IAEnB;MACE,OAAOG,KAAK;EAAC;AAEnB,CAAC;AAED,IAAMI,YAAyC,GAAG,SAA5CA,YAAyC,OAAmB;EAAA,IAAdC,QAAQ,QAARA,QAAQ;EAC1D,wBAA0BZ,KAAK,CAACa,UAAU,CAACP,WAAW,EAAEJ,gBAAgB,CAAC;IAAA;IAAlEK,KAAK;IAAEO,QAAQ;EACtB,IAAOT,SAAS,GAAIE,KAAK,CAAlBF,SAAS;EAEhB,IAAMU,WAAW,GAAGf,KAAK,CAACgB,OAAO,CAC/B;IAAA,OAAO;MACLX,SAAS,EAATA,SAAS;MACTY,MAAM,EAAE,kBAAM;QACZH,QAAQ,CAAC;UAACL,IAAI,EAAE,SAAS;UAAEC,KAAK,EAAE;QAAkB,CAAC,CAAC;MACxD,CAAC;MACDQ,OAAO,EAAE;QAAA,OAAMJ,QAAQ,CAAC;UAACL,IAAI,EAAE;QAAU,CAAC,CAAC;MAAA;MAC3CU,MAAM,EAAE,kBAAM;QACZL,QAAQ,CAAC;UAACL,IAAI,EAAE,SAAS;UAAEC,KAAK,EAAE;QAAkB,CAAC,CAAC;MACxD;IACF,CAAC;EAAA,CAAC,EACF,CAACL,SAAS,CAAC,CACZ;EAED,OACE,KAAC,WAAW,CAAC,QAAQ;IAAC,KAAK,EAAEU,WAAY;IAAA,UAAEH;EAAQ,EAAwB;AAE/E,CAAC;AAED,eAAeD,YAAY"},"metadata":{},"sourceType":"module"}